
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
        <link rel="next" href="api/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.1">
    
    
      
        <title>FluentIter Documentation</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.72749a73.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#fluentiter" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="FluentIter Documentation" class="md-header__button md-logo" aria-label="FluentIter Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FluentIter Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="FluentIter Documentation" class="md-nav__button md-logo" aria-label="FluentIter Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    FluentIter Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Home
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tldr" class="md-nav__link">
    TLDR:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    Motivation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use" class="md-nav__link">
    How to use
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    Contributing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#developing" class="md-nav__link">
    Developing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guidelines" class="md-nav__link">
    Guidelines
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-formatting-tests-and-linting" class="md-nav__link">
    Running formatting, tests, and linting
  </a>
  
    <nav class="md-nav" aria-label="Running formatting, tests, and linting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#viewing-the-coverage-report" class="md-nav__link">
    Viewing the coverage report
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#special-thanks" class="md-nav__link">
    Special Thanks
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FluentIterator API
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tldr" class="md-nav__link">
    TLDR:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#motivation" class="md-nav__link">
    Motivation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use" class="md-nav__link">
    How to use
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    Contributing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#developing" class="md-nav__link">
    Developing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guidelines" class="md-nav__link">
    Guidelines
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-formatting-tests-and-linting" class="md-nav__link">
    Running formatting, tests, and linting
  </a>
  
    <nav class="md-nav" aria-label="Running formatting, tests, and linting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#viewing-the-coverage-report" class="md-nav__link">
    Viewing the coverage report
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#special-thanks" class="md-nav__link">
    Special Thanks
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="fluentiter">FluentIter</h1>
<p>Nicer iterator patterns for Python! Chain map, filter, zip, unzip, cycle, skip and scan like
there is no tomorrow.</p>
<p><a href="https://damiondoesthings.github.io/fluentiter/api">Straight to the API docs ðŸ‘‰</a></p>
<h2 id="tldr">TLDR:</h2>
<p>With <strong>fluentiter</strong> you can do this</p>
<pre><code class="language-python">lines = iterator(haystack_csv.split(&quot;\n&quot;))
header = [x for x in lines.next().split(&quot;,&quot;) if x.strip(&quot; &quot;)]
needle = (
    lines.map(lambda line: line.split(&quot;,&quot;))
    .map(lambda values: {k: v for k, v in zip(header, values)})
    .filter(lambda value_dct: value_dct[&quot;material&quot;] != &quot;hay&quot;)
    .find(lambda value_dct: value_dct[&quot;type&quot;] == &quot;needle&quot;)
)
</code></pre>
<p>instead of this</p>
<pre><code class="language-python">lines = iter(some_csv.split(&quot;\n&quot;))
header = [x for x in next(lines).split(&quot;,&quot;) if x.strip()]
needle = next(
    filter(
        lambda value_dct: value_dct[&quot;material&quot;] != &quot;hay&quot;,
        filter(
            lambda value_dct: value_dct[&quot;type&quot;] == &quot;needle&quot;,
            map(
                lambda values: {k: v for k, v in zip(header, values)},
                map(lambda line: line.split(&quot;,&quot;), lines),
            ),
        ),
    )
)
</code></pre>
<p>See the <a href="./examples/parsing.py">this example</a> for a more complete version.</p>
<h2 id="motivation">Motivation</h2>
<p>To me Pythons iterator functions (i.e. <code>map</code>, <code>filter</code>, <code>zip</code>, etc.) always seemed backward.
While generator expressions and list/dict/set comprehensions give you nice left-to-right readability,
<code>map</code> and <code>filter</code> force you to read "inside-out":</p>
<pre><code class="language-python">[func(x) for x in something if x == y]
map(func, filter(lambda x: x == y, something))
</code></pre>
<p>This is not an issue for short an simple statements, as they can be written concisely using expressions, but chaining multiple operations,
will result in either many intermediate variable assignements or serious spaghettification.</p>
<h2 id="how-to-use">How to use</h2>
<p>Any <code>Iterable</code> can be turned into a <code>FluentIterator</code> by just passing it to the <code>iterator</code> function:</p>
<pre><code class="language-python">from fluentiter import iterator
bugs = [&quot;john&quot;, &quot;paul&quot;, &quot;ringo&quot;, &quot;george&quot;]

fluent = iterator(bugs)
# you can now do
# fluent.map(...).filter(...).cycle(...).scan(...) and so on
</code></pre>
<p>The <code>FluentIterator</code> provides a rich set of methods you can call <strong>and chain together</strong> to your liking:</p>
<p>Of course there are the classic <code>map</code>, <code>filter</code>, and <code>reduce</code> functions, but also some more really useful features like <code>cycle</code> to repeat an iterator forever, <code>find</code> to find an element or even <code>partition</code> to turn your iterator into two.</p>
<p>In total <code>FluentIterator</code> provides <strong>35</strong> methods to compose beautiful and easy to follow iteration
patterns.
Check the <a href="https://damiondoesthings.github.io/fluentiter/">API docs</a> to see them all.
TODO: I probably miscounted,</p>
<h2 id="features">Features</h2>
<ul>
<li>35 cool fresh iterator methods</li>
<li>100% Type annotated e.g. <code>iterator(["foo", "bar"]).map(len).to_list()</code> gets correctly inferred as <code>list[int]</code></li>
<li>100% Test coverage</li>
<li>0 dependencies outside the Python standard library<sup id="fnref:0"><a class="footnote-ref" href="#fn:0">1</a></sup></li>
</ul>
<h2 id="contributing">Contributing</h2>
<p>The simplest way to contribute is to open an issue. If you would like to see some feature implemented or
found a bug, head over [./issues].</p>
<h2 id="developing">Developing</h2>
<ol>
<li>Clone the repository</li>
<li>Install <a href="Poetry">https://python-poetry.org/</a></li>
<li>Install development dependencies with <code>poetry install</code></li>
<li>Enter the poetry shell with <code>poetry shell</code></li>
</ol>
<h2 id="guidelines">Guidelines</h2>
<p>Your PR should include relevant tests for the changes you are contributing and be fully type annotated.
If you are unsure or stuck, please open the PR anyway and we can work it out together.</p>
<p>By opening a PR you agree to your code becoming part of the fluentiter package and being published
under fluentiters license.</p>
<h2 id="running-formatting-tests-and-linting">Running formatting, tests, and linting</h2>
<ul>
<li>Formatting: <code>poe format</code></li>
<li>Linting: <code>poe lint</code></li>
<li>Tests: <code>poe test</code></li>
</ul>
<p>All of the above: <code>poe all</code></p>
<h3 id="viewing-the-coverage-report">Viewing the coverage report</h3>
<p>Running <code>coverage html</code> will create a file <code>htmlcov/index.html</code> you can open to view the test coverage report</p>
<h2 id="special-thanks">Special Thanks</h2>
<p>Thank you to all Rust maintainers for creating the <a href="https://doc.rust-lang.org/std/iter/trait.Iterator.html">Iterator trait</a>, which served as the main source of inspiration.</p>
<h1 id="getting-started">Getting started</h1>
<p>Import <code>fluentiter</code> and create a <code>FluentIterator</code>:</p>
<p>Go to <a href="api/">FluentIterator API</a> for the API docs</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:0">
<p>Some functions may require the <code>more</code> extra which has <a href="https://github.com/more-itertools/more-itertools">more-itertools</a> as a dependency&#160;<a class="footnote-backref" href="#fnref:0" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
    
  </body>
</html>